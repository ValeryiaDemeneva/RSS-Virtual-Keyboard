(()=>{"use strict";const e=[["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspase"],["Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","/","Del"],["CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter"],["Shift","я","ч","c","м","и","т","ь","б","ю",".","⇑"],["Ctrl","Alt","SPACE","CtrlR","⇐","⇓","⇒"]],a=[["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspase"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","/","Del"],["CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","⇑"],["Ctrl","Alt","SPACE","CtrlR","⇐","⇓","⇒"]],r=[["Ё","!",'"',"№",";","%",":","?","*","(",")","_","+","Backspase"],["Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","/","Del"],["CapsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter"],["Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",",","⇑"],["Ctrl","Alt","SPACE","CtrlR","⇐","⇓","⇒"]],n=[["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspase"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","Del"],["CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter"],["Shift","Z","X","C","V","B","N","M","<",">","?","⇑","shift"],["Ctrl","Alt","SPACE","CtrlR","⇐","⇓","⇒"]],s=[{code:"Backquote",ru:e[0][0],ruCaps:r[0][0],en:a[0][0],enCaps:n[0][0]},{code:"Digit1",ru:e[0][1],ruCaps:r[0][1],en:a[0][1],enCaps:n[0][1]},{code:"Digit2",ru:e[0][2],ruCaps:r[0][2],en:a[0][2],enCaps:n[0][2]},{code:"Digit3",ru:e[0][3],ruCaps:r[0][3],en:a[0][3],enCaps:n[0][3]},{code:"Digit4",ru:e[0][4],ruCaps:r[0][4],en:a[0][4],enCaps:n[0][4]},{code:"Digit5",ru:e[0][5],ruCaps:r[0][5],en:a[0][5],enCaps:n[0][5]},{code:"Digit6",ru:e[0][6],ruCaps:r[0][6],en:a[0][6],enCaps:n[0][6]},{code:"Digit7",ru:e[0][7],ruCaps:r[0][7],en:a[0][7],enCaps:n[0][7]},{code:"Digit8",ru:e[0][8],ruCaps:r[0][8],en:a[0][8],enCaps:n[0][8]},{code:"Digit9",ru:e[0][9],ruCaps:r[0][9],en:a[0][9],enCaps:n[0][9]},{code:"Digit0",ru:e[0][10],ruCaps:r[0][10],en:a[0][10],enCaps:n[0][10]},{code:"Minus",ru:e[0][11],ruCaps:r[0][11],en:a[0][11],enCaps:n[0][11]},{code:"Equal",ru:e[0][12],ruCaps:r[0][12],en:a[0][12],enCaps:n[0][12]},{code:"Backspace",ru:e[0][13],ruCaps:r[0][13],en:a[0][13],enCaps:n[0][13]},{code:"Tab",ru:e[1][0],ruCaps:r[1][0],en:a[1][0],enCaps:n[1][0]},{code:"KeyQ",ru:e[1][1],ruCaps:r[1][1],en:a[1][1],enCaps:n[1][1]},{code:"KeyW",ru:e[1][2],ruCaps:r[1][2],en:a[1][2],enCaps:n[1][2]},{code:"KeyE",ru:e[1][3],ruCaps:r[1][3],en:a[1][3],enCaps:n[1][3]},{code:"KeyR",ru:e[1][4],ruCaps:r[1][4],en:a[1][4],enCaps:n[1][4]},{code:"KeyT",ru:e[1][5],ruCaps:r[1][5],en:a[1][5],enCaps:n[1][5]},{code:"KeyY",ru:e[1][6],ruCaps:r[1][6],en:a[1][6],enCaps:n[1][6]},{code:"KeyU",ru:e[1][7],ruCaps:r[1][7],en:a[1][7],enCaps:n[1][7]},{code:"KeyI",ru:e[1][8],ruCaps:r[1][8],en:a[1][8],enCaps:n[1][8]},{code:"KeyO",ru:e[1][9],ruCaps:r[1][9],en:a[1][9],enCaps:n[1][9]},{code:"KeyP",ru:e[1][10],ruCaps:r[1][10],en:a[1][10],enCaps:n[1][10]},{code:"BracketLeft",ru:e[1][11],ruCaps:r[1][11],en:a[1][11],enCaps:n[1][11]},{code:"BracketRight",ru:e[1][12],ruCaps:r[1][12],en:a[1][12],enCaps:n[1][12]},{code:"Backslash",ru:e[1][13],ruCaps:r[1][13],en:a[1][13],enCaps:n[1][13]},{code:"Delete",ru:e[1][14],ruCaps:r[1][14],en:a[1][14],enCaps:n[1][14]},{code:"CapsLock",ru:e[2][0],ruCaps:r[2][0],en:a[2][0],enCaps:n[2][0]},{code:"KeyA",ru:e[2][1],ruCaps:r[2][1],en:a[2][1],enCaps:n[2][1]},{code:"KeyS",ru:e[2][2],ruCaps:r[2][2],en:a[2][2],enCaps:n[2][2]},{code:"KeyD",ru:e[2][3],ruCaps:r[2][3],en:a[2][3],enCaps:n[2][3]},{code:"KeyF",ru:e[2][4],ruCaps:r[2][4],en:a[2][4],enCaps:n[2][4]},{code:"KeyG",ru:e[2][5],ruCaps:r[2][5],en:a[2][5],enCaps:n[2][5]},{code:"KeyH",ru:e[2][6],ruCaps:r[2][6],en:a[2][6],enCaps:n[2][6]},{code:"KeyJ",ru:e[2][7],ruCaps:r[2][7],en:a[2][7],enCaps:n[2][7]},{code:"KeyK",ru:e[2][8],ruCaps:r[2][8],en:a[2][8],enCaps:n[2][8]},{code:"KeyL",ru:e[2][9],ruCaps:r[2][9],en:a[2][9],enCaps:n[2][9]},{code:"Semicolon",ru:e[2][10],ruCaps:r[2][10],en:a[2][10],enCaps:n[2][10]},{code:"Quote",ru:e[2][11],ruCaps:r[2][11],en:a[2][11],enCaps:n[2][11]},{code:"Enter",ru:e[2][12],ruCaps:r[2][12],en:a[2][12],enCaps:n[2][12]},{code:"ShiftLeft",ru:e[3][0],ruCaps:r[3][0],en:a[3][0],enCaps:n[3][0]},{code:"KeyZ",ru:e[3][1],ruCaps:r[3][1],en:a[3][1],enCaps:n[3][1]},{code:"KeyX",ru:e[3][2],ruCaps:r[3][2],en:a[3][2],enCaps:n[3][2]},{code:"KeyC",ru:e[3][3],ruCaps:r[3][3],en:a[3][3],enCaps:n[3][3]},{code:"KeyV",ru:e[3][4],ruCaps:r[3][4],en:a[3][4],enCaps:n[3][4]},{code:"KeyB",ru:e[3][5],ruCaps:r[3][5],en:a[3][5],enCaps:n[3][5]},{code:"KeyN",ru:e[3][6],ruCaps:r[3][6],en:a[3][6],enCaps:n[3][6]},{code:"KeyM",ru:e[3][7],ruCaps:r[3][7],en:a[3][7],enCaps:n[3][7]},{code:"Comma",ru:e[3][8],ruCaps:r[3][8],en:a[3][8],enCaps:n[3][8]},{code:"Period",ru:e[3][9],ruCaps:r[3][9],en:a[3][9],enCaps:n[3][9]},{code:"Slash",ru:e[3][10],ruCaps:r[3][10],en:a[3][10],enCaps:n[3][10]},{code:"ArrowUp",ru:e[3][11],ruCaps:r[3][11],en:a[3][11],enCaps:n[3][11]},{code:"ShiftRight",ru:e[3][12],ruCaps:r[3][12],en:a[3][12],enCaps:n[3][12]},{code:"ControlLeft",ru:e[4][0],ruCaps:r[4][0],en:a[4][0],enCaps:n[4][0]},{code:"AltLeft",ru:e[4][1],ruCaps:r[4][1],en:a[4][1],enCaps:n[4][1]},{code:"Space",ru:e[4][2],ruCaps:r[4][2],en:a[4][2],enCaps:n[4][2]},{code:"AltRight",ru:e[4][3],ruCaps:r[4][3],en:a[4][3],enCaps:n[4][3]},{code:"ArrowLeft",ru:e[4][4],ruCaps:r[4][4],en:a[4][4],enCaps:n[4][4]},{code:"ArrowDown",ru:e[4][5],ruCaps:r[4][5],en:a[4][5],enCaps:n[4][5]},{code:"ArrowRight",ru:e[4][6],ruCaps:r[4][6],en:a[4][6],enCaps:n[4][6]}];let u="ru",p="";const C=document.querySelector("body"),c=document.createElement("div");C.append(c);const o=document.createElement("textarea");o.value=p,o.readOnly=!0,c.append(o);const t=s=>{const C=document.createElement("div");C.classList.add("keyboard"),c.append(C),s.forEach((s=>{const c=document.createElement("div");c.classList.add("keyboardLine"),C.append(c),s.forEach((s=>{const C=document.createElement("div");C.classList.add("keyboardButton"),c.append(C),C.innerHTML=s,C.classList.add(`key-${s}`),C.addEventListener("click",(()=>{(s=>{const{innerHTML:C}=s;"Backspase"===C?p=p.slice(0,-1):"Tab"===C?p+="   ":"Del"===C||("CapsLock"===C?"ru"===u?(d(r),u="ruCaps"):"ruCaps"===u?(d(e),u="ru"):"en"===u?(d(n),u="enCaps"):"enCaps"===u&&(u="en",d(a)):"Enter"===C?p+="\n":"Shift"===C||"Ctrl"===C||"Alt"===C||("CtrlR"===C?"ru"===u?(u="en",d(a)):"ruCaps"===u?(d(n),u="enCaps"):"en"===u?(d(e),u="ru"):"enCaps"===u&&(u="ruCaps",d(r)):p+=C)),o.value=p})(C)})),C.addEventListener("mousedown",(()=>{"Shift"===C.innerHTML&&("ru"===u?(u="ruCaps",d(r)):"ruCaps"===u?(u="ru",d(e)):"en"===u?(u="enCaps",d(n)):"enCaps"===u&&(u="en",d(a)),document.querySelector(".Shift").classList.add("active"))})),C.addEventListener("mouseup",(()=>{"Shift"===C.innerHTML&&("ruCaps"===u?(u="ru",d(e)):"ru"===u?(u="ruCaps",d(r)):"en"===u?(u="enCaps",d(n)):"enCaps"===u&&(u="en",d(a)),document.querySelector(".Shift").classList.remove("active"))}))}))}))},d=e=>{document.querySelector(".keyboard").remove(),t(e)};document.addEventListener("keyup",(C=>{(C=>{const{code:c}=C;"Backspace"===c?p=p.slice(0,-1):"Tab"===c?p+="   ":"Enter"===c?p+="\n":"CapsLock"===c?"ru"===u?(d(r),u="ruCaps"):"ruCaps"===u?(d(e),u="ru"):"en"===u?(d(n),u="enCaps"):"enCaps"===u&&(u="en",d(a)):"ArrowUp"===c?p+="⇑":"ArrowDown"===c?p+="⇓":"ArrowLeft"===c?p+="⇐":"ArrowRight"===c?p+="⇒":s.forEach((e=>{e.code===c&&(p+=e[u],document.querySelector(`.key-${e[u]}`).classList.remove("active"))})),o.value=p})(C)})),document.addEventListener("keydown",(e=>{(e=>{s.forEach((a=>{a.code===e.code&&(p+=a[u],document.querySelector(`.key-${a[u]}`).classList.add("active"))}))})(e)})),t(e)})();